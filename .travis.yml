language: python
python:
- '3.6'
- 3.6-dev
- 3.7.1
dist: xenial
sudo: required
sevices:
- docker
install:
- pip install -r requirements.txt
- pip install coverage
- pip install codecov
script:
- nosetests --with-coverage -vse test/
after_success:
- coverage combine
- codecov
env:
  global:
  - secure: Yciu+12spi4bk9EIZuhJ4YiKNvvdZWk/9wDHu/KKt9r7k5qToIcxfdpJusD2dBmCWT5RATgfHlmjmDSIj8Dvm1SaiHQDX1ud17iS5EMjl95k0lhX6uRxRLNN4mbYzs5cgtrODa+sl7NH97HPVU4A6n8LJpMeLsiFF/QYCVG+S5BjTmFfed3IZXq/KWuv++IX3r50XOAXExFCWhXzo2AbiWOhcThWbl/iwX2NEAH71lfn2OOls3XqwPYycKY9pDYK9D0tWnMsW9b9VHdoKBO/7bQyxTcWAhv8CrNfsP5H+cHf2TDVbfsUvGnZ8kcKFi/u/Zv3y+P8BG0f+5bwau680eqIX3Xl0IsiAiyL67QQ/36CeVy3/RJDa3o7O1/uAsaQAsJ+5Lod1VUvCFyUk8tFivzVhgY0cRcEY+mq3s9+Gb+Pcu+pfsdtBSQlpRW7rKsCOsJe/afzOXtNhAbVPZ+dLXk0fxpWmZrkKVD7YVGkwkjGC6C2GSesn1p42Ls7zWZ99C6fxv3guLXPpmVDGVWI6EOvKBxO2+xb8W3p771vb7qNG/A3qEU/Y2o7m1MtcVxLcKMF2QJ6eDCSshB7pOCdhPGtSnYFPrQh8XQi75U2Ji/mPE0jVt5RmoAoIDt1Zz5aSh0lhkVeA9BFlihx4/0VqeERRKsSnQMZ/D4ZPuKH424=
  - secure: lcOAF6MAsSNGEfMZL/SVqp7qgcVJh54EYmY8j2tF490HtrwCqJu11gBXmxYfcr3HtnYZREdD9bWzNQjwDVfIWjqnIWLJ1rUs8OigQXoHALKHyjnKyBAyHPUV95NDTjMh1NkuuXj+YwSJsn8BW06F+CcB+oUlWzAdJKjZtkuZ9Qihe5hkfM2VFnVv1LIP0+kDv4IHEfjHj9PHC/Zm+RwyvB9/lGYvjVqfNO46NBAO8eTFkeWd5GBNUhDQ1ZedEf3YmL3HrhM0sKFK3x88BGTFPQmvCHBSdIDyAmYXyQBLMdP3kJ9QIWA85wtrKhFZm4KZ9RFvp7cBWM8FpqgxPdrnq4QxVF9sObOir1yW+1c2Wo9Mwi13KTyN5O/fCLUWoBsd8zL3le//Ntx8PeWuwvG3VIlQ4KnZKJvLHbre7r2en9z3APLoxam+FK6fuOoqSUuRDsQLMUOy+FFcM1RnahhFty7rplFkiMHs2Hahe1Yk4m4uQJjg8wPpjZFcVq+5UYjzljuwaohZh8uPIlu6wOMcMjn5V/MySFM0sP3KRz4e69N4q4CRuwGSsUhfUGn9NHS3lnvyuDVOuqBZFjsATPX735uX8gB0ohalvCOmGi6F9IugVtX65oI6Br1WwJ3K6RVGqpcVnefVXUwRpZ4uZY51lBQmL0ZUkuJLeaVaMsj4Ubw=
deploy:
- provider: pypi
  username: ErikGartner
  password:
    secure: EijtXneiUmMRQxPX9yv5rx6CLfaINk8TlLEdZBfjQY9CPDO444ggFMwmi5a5CXkBkDXo0OVcbUHvhPC5UcKsW/rEQ09ffMdPwy2ocHqzlMJfG+qJLR2c/GuAmCoW/pf3Z+p52NkmE62j9V/tbYrnbrpPpGjCnIr9wW+rI9I+9Zj8IW3c0pKNt8TrIkTFfqmXhylA5RSVSFw8Roqydjzcqn99NlMges8D3pNGohpA1S2UMi7erRhPbQaC/uZ3Yvnr0IQf9h+ndOiDh/4vxhMIKWle1JRdJB/tQkC0vaVAZnUd1ayGwskCbqGCjv+VaHllWjHrAOM+Kteq7Y5ipkTk4noI3Hz0BjKW7NVERxm7vksyL1X2bNphL0WcDFre1cf8iBz90hd2tvgmT4e1on2j8G4++xENkQfiDLG9OqVr9hnu7vlPBxu/8lQ9VEXhZGlYK2ZQLyU5xpKqxsO6Aq0retTgx6GgPFdqsnUt/2Lua35qKoKvZL/9AJb2tjNMZPG4PIUtBfg0RWczItbD1dsTB/5hgoFT/EnUIXOn/Aa+AyuMaE/ShmpubNGVl/5JcTG7CjnU62c9LRqXMQ0wW/0vnZ+8/e5hqcJnh4yLgByrarjGf0kSjqaq51wCBRUDr3hnp6CkXGemsRbpDw2B3DnkzGG3Ravi+VwyoFMQ+CG9PBg=
  on:
    branch: master
    tags: true
  skip_existing: true
- provider: script
  script: bash docker/deploy.sh
  on:
    branch: master
    tags: true
