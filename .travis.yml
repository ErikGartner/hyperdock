language: python
python:
- '3.6'
- 3.6-dev
- 3.7.1
dist: xenial
sudo: required
sevices:
- docker
install:
- pip install -r requirements.txt
- pip install coverage
- pip install codecov
script:
- nosetests --with-coverage -vse test/
after_success:
- coverage combine
- codecov
env:
  secure: p2Ns5BrZZaOHcLel2tVMpSIsHIAMXJw6lOGYNlCzzHkXPZzQBbfWrE9o8dzYo2wyT9UTlFjn7LkgCOpH5f5oezJA7C+b58KffP3KCRqFHWKwOZDKPcYyqsGv3ThuSTgCO93sQhdnkQH3foQ1H97Tn1fnCBGK8MYocKFHGNJqJhM/rGNU6SwlWO0X9bHm5w5PAgkpbMHxDgBnA5qPb6rVx8+iaonB7BIQxonZVuzhhiQqErbj6xRvPjIWkC3iO9GTpAm5NKuTSkFkpg7BfmS+/ldKnl6sI4QUJRHuLU+LY15WEJNB+bosmgyAKIqkDEWnm/L0+6v6u93STyFYPmUlxwCl/nC97fbMapRr8fkvgyPosS/hV8kbzKOBML9QhzOq0QplH6G3+ZcAkBttNQ3E6TPeDbBQxkKwWoMC5KA9Y09du2w/ul/d3ISPZpfoLfKvzc28wVelDGH82KMkrod4P82zrMMCJ4vvHOyubTdt/GaQavtVoYgNs6JHG9We8TXaQpjkMWD2Mie9HcNyjo/uEEgN9zr1s0brxP45cXeWWeC1CTKZMq832XxE6dl33Z4vQ9WockmkJIAF4ClLOr999LnJ/vZJcY7oAK2Arfprb9CInGUe5T/UV/N/ncJ2pqEXazYgBeVVTeBazIWc/jvU5rLEMK0rvjPYfnGh3EBlXHM=
deploy:
- provider: pypi
  username: ErikGartner
  password:
    secure: EijtXneiUmMRQxPX9yv5rx6CLfaINk8TlLEdZBfjQY9CPDO444ggFMwmi5a5CXkBkDXo0OVcbUHvhPC5UcKsW/rEQ09ffMdPwy2ocHqzlMJfG+qJLR2c/GuAmCoW/pf3Z+p52NkmE62j9V/tbYrnbrpPpGjCnIr9wW+rI9I+9Zj8IW3c0pKNt8TrIkTFfqmXhylA5RSVSFw8Roqydjzcqn99NlMges8D3pNGohpA1S2UMi7erRhPbQaC/uZ3Yvnr0IQf9h+ndOiDh/4vxhMIKWle1JRdJB/tQkC0vaVAZnUd1ayGwskCbqGCjv+VaHllWjHrAOM+Kteq7Y5ipkTk4noI3Hz0BjKW7NVERxm7vksyL1X2bNphL0WcDFre1cf8iBz90hd2tvgmT4e1on2j8G4++xENkQfiDLG9OqVr9hnu7vlPBxu/8lQ9VEXhZGlYK2ZQLyU5xpKqxsO6Aq0retTgx6GgPFdqsnUt/2Lua35qKoKvZL/9AJb2tjNMZPG4PIUtBfg0RWczItbD1dsTB/5hgoFT/EnUIXOn/Aa+AyuMaE/ShmpubNGVl/5JcTG7CjnU62c9LRqXMQ0wW/0vnZ+8/e5hqcJnh4yLgByrarjGf0kSjqaq51wCBRUDr3hnp6CkXGemsRbpDw2B3DnkzGG3Ravi+VwyoFMQ+CG9PBg=
  on:
    branch: master
    tags: true
  skip_existing: true
- provider: script
  script: bash docker/deploy.sh
  on:
    branch: master
    tags: true
