<template name="workqueue">
  <h2>Work Queue</h2>

  <table class="table table-hover">
    <thead>
      <th>Cancel</th>
      <th>Id</th>
      <th>Start Time</th>
      <th>Assigned Worker</th>
      <th>Parameters</th>
      <th>Results</th>
    </thead>
    <tbody>
    {{#each workqueue}}
      <tr class="{{rowColor}}">
        <td>
          {{#if notCancellable}}
          <div class="btn btn-danger" disabled>Cancel</div>
          {{else}}
          <div class="btn btn-danger cancel-work" data-id={{_id}}>Cancel</div>
          {{/if}}
        </td>
        <td>{{_id}}</td>
        <td>{{niceTime start_time}}</td>
        <td>{{worker}}</td>
        <td>{{json2string parameters}}</td>
        <td>{{json2string result}}</td>
      </tr>
    {{/each}}
    </tbody>
  </table>

</template>
